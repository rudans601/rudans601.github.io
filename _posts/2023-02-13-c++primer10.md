---
layout: single
title: "C++ primer 10"
categories: C++_primer
tags: [c++]
author_profile: false
#search: false
---

## 배열 요소에 접근하기

배열 첨자로 변수를 사용한다면 그 변수는  size_t타입으로 정의하는 것이 좋다.  size_t타입은 부호 없는 정수이며 헤더는 c++은 cstddef 헤더고 c는 stddef.h 헤더이다.

배열에도 범위 for를 쓰면 편리하다 

## 포인터와 배열

배열 요소는 객체이므로 배열에 첨자 연산을 했을 때 결과는 배열 내 해당 위치에 있는 객체이다. 

이런식으로 배열의 요소에 주소 연산자를 붙혀서 포인터에 저장 할 수 있다.

```c++
string nums[] = {"one", "two", "three"};
string *p = &nums[0]; 
```

배열의 이름만 있다면 이는 그 배열의 첫 요소에 대한 주솟값(포인터)를 반환한다.

```c++
string *p2 = nums; //p2 = &nums[0] 과 같다
```

auto를 사용해서 정의한 변수에 대한 초기 값으로 배열을 사용하면 추론한 타입은 배열이 아니라 포인터다.

```c++
int ia[] = {0,1,2,3,4,5,6,7,8,9};
auto ia2(ia); //ia2는 ia의 첫 요소를 나타내는 int*이다
ia2 = 42; //오류 : ia2는 포인터이고, 포인터에는 int를 대입할 수 없다
```

단, decltype 타입을 사용할 때는 이 변환이 이뤄지지 않는다

```c++
decltype(ia) ia3 = {0,1,2,3,4,5,6,7,8,9};
ia3 = p; //오류: 배열에 int*을 대입할 수 없다
ia3[4] = i; //좋음 : i값을 ia3의 요소에 대입한다
```

### 포인터는 반복자이다

배열 요소에 대한 포인터에서는 vector나 string에 대한 반복자와 같은 연산을 제공한다. 예를 들면 증가 연산자를 사용해 배열 내 한 요소에서 다음으로 이동할 수 있다

```c++
int arr[] = {0,1,2,3,4,5,6,7,8,9};
int *p = arr; //p는 arr의 첫 요소를 가리킨다
++p; //p는 arr[1]을 가리킨다
```

